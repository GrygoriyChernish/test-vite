{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst STORAGE_KEY = 'feedback-form-state';\nlet formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\nconst testButton = document.querySelector('.test-button');\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\ninitialFormInputs();\n\nrefs.form.addEventListener('input', throttle(onInputForm, 500));\nrefs.form.addEventListener('submit', onSubmitForm);\n\nfunction onInputForm(event) {\n  formData[event.target.name] = event.target.value;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  console.log(event.target);\n  const [email, message] = refs.form.elements;\n  console.dir(event.target);\n  if (!email.value || !message.value) {\n    return alert('Заповніть всі поля');\n  }\n  localStorage.removeItem(STORAGE_KEY);\n  refs.form.reset();\n  formData = {};\n}\n\nfunction initialFormInputs() {\n  const initialValues = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (initialValues) {\n    const [email, message] = refs.form.elements;\n    email.value = initialValues.email || '';\n    message.value = initialValues.message || '';\n  }\n}\n"],"names":["STORAGE_KEY","formData","refs","initialFormInputs","throttle","onInputForm","onSubmitForm","event","email","message","initialValues"],"mappings":"mIACA,MAAMA,EAAc,sBACpB,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,GAC7C,SAAS,cAAc,cAAc,EAExD,MAAME,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEAC,IAEAD,EAAK,KAAK,iBAAiB,QAASE,EAASC,EAAa,GAAG,CAAC,EAC9DH,EAAK,KAAK,iBAAiB,SAAUI,CAAY,EAEjD,SAASD,EAAYE,EAAO,CAC1BN,EAASM,EAAM,OAAO,MAAQA,EAAM,OAAO,MAE3C,aAAa,QAAQP,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CAEA,SAASK,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,QAAQ,IAAIA,EAAM,MAAM,EACxB,KAAM,CAACC,EAAOC,CAAO,EAAIP,EAAK,KAAK,SAEnC,GADA,QAAQ,IAAIK,EAAM,MAAM,EACpB,CAACC,EAAM,OAAS,CAACC,EAAQ,MAC3B,OAAO,MAAM,oBAAoB,EAEnC,aAAa,WAAWT,CAAW,EACnCE,EAAK,KAAK,QACVD,EAAW,CAAA,CACb,CAEA,SAASE,GAAoB,CAC3B,MAAMO,EAAgB,KAAK,MAAM,aAAa,QAAQV,CAAW,CAAC,EAElE,GAAIU,EAAe,CACjB,KAAM,CAACF,EAAOC,CAAO,EAAIP,EAAK,KAAK,SACnCM,EAAM,MAAQE,EAAc,OAAS,GACrCD,EAAQ,MAAQC,EAAc,SAAW,EAC1C,CACH"}